(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(47)},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(19),c=n(5),i=n(7),u=n.n(i),l=function(e){var t=e.onSave,n=e.text,o=e.placeholder,a=e.editing,i=e.newTodo,l=r.a.useState(n||""),s=Object(c.a)(l,2),d=s[0],p=s[1];return r.a.createElement("input",{className:u()({edit:a,"new-todo":i}),type:"text",placeholder:o,autoFocus:!0,value:d,onBlur:function(e){i||t(e.target.value)},onChange:function(e){p(e.target.value)},onKeyDown:function(e){if(13===e.which){var n=e.target.value.trim();t(n),i&&p("")}}})},s=n(6),d=n(1),p=n.n(d),m=n(2),f=n(9),T=n.n(f),E="https://5e3243cbb92d240014ea512c.mockapi.io/api/v1/",O=function(){var e=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(E,"/todos?page=1&limit=10&sortBy=createdAt&order=desc"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.completed=!t.completed,e.abrupt("return",v(t));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.put("".concat(E,"/todos/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b={fetchTodos:O,toggleComplete:h,updateTodo:v,addTodo:function(){var e=Object(m.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("".concat(E,"/todos"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteTodo:function(){var e=Object(m.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.delete("".concat(E,"/todos/").concat(t.id));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},y={UPDATE_ALL_TODOS:Symbol("UPDATE_ALL_TODOS"),UPDATE_TODO:Symbol("UPDATE_TODO"),ADD_TODO:Symbol("ADD_TODO"),DELETE_TODO:Symbol("DELETE_TODO")},D={fetchTodos:function(e){return Object(m.a)(p.a.mark(function t(){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.fetchTodos();case 2:n=t.sent,e({type:y.UPDATE_ALL_TODOS,payload:{todos:n}});case 4:case"end":return t.stop()}},t)}))},addTodo:function(e){return function(){var t=Object(m.a)(p.a.mark(function t(n){var o,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={text:n,completed:!1,createdAt:Date.now()},t.next=3,b.addTodo(o);case 3:r=t.sent,e({type:y.ADD_TODO,payload:{todo:r}});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},editTodo:function(e){return function(){var t=Object(m.a)(p.a.mark(function t(n,o){var r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.text=o,t.next=3,b.updateTodo(n);case 3:r=t.sent,e({type:y.UPDATE_TODO,payload:{todo:r}});case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},deleteTodo:function(e){return function(){var t=Object(m.a)(p.a.mark(function t(n){var o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.deleteTodo(n);case 2:o=t.sent,e({type:y.DELETE_TODO,payload:{todo:o}});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},completeTodo:function(e){return function(){var t=Object(m.a)(p.a.mark(function t(n){var o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.toggleComplete(n);case 2:o=t.sent,e({type:y.UPDATE_TODO,payload:{todo:o}});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},completeAllTodos:function(e,t){var n=t.todos;return function(){var t=Object(m.a)(p.a.mark(function t(o){var r,a,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.filter(function(e){return e.completed!==o}),a=r.map(function(e){return b.updateTodo(Object(s.a)({},e,{completed:o}))}),t.next=4,Promise.all(a);case 4:c=n.map(function(e){return e.completed=o,e}),e({type:y.UPDATE_ALL_TODOS,payload:{todos:c}});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},clearCompleted:function(e,t){var n=t.todos;return Object(m.a)(p.a.mark(function t(){var o,r,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.filter(function(e){return!0===e.completed}),r=o.map(function(e){return b.deleteTodo(e)}),t.next=4,Promise.all(r);case 4:a=n.filter(function(e){return!e.completed}),e({type:y.UPDATE_ALL_TODOS,payload:{todos:a}});case 6:case"end":return t.stop()}},t)}))}};var S=function(e,t){var n=t.type,o=t.payload,r=void 0===o?{}:o,a=e.todos,c=r.todo;switch(n){case y.UPDATE_ALL_TODOS:return{todos:r.todos};case y.UPDATE_TODO:return{todos:a.map(function(e){return e.id===c.id?Object(s.a)({},c):e})};case y.ADD_TODO:return{todos:[c].concat(a)};case y.DELETE_TODO:return{todos:a.filter(function(e){return e.id!==c.id})};default:return e}},_=n(4),w=Object(_.c)(S,{todos:[]},D),C=Object(c.a)(w,2),L=C[0],A=C[1],I=Object(_.a)(A),j=(Object(_.e)(A),L),x=I(function(e){var t=e.addTodo;return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"todos"),r.a.createElement(l,{newTodo:!0,onSave:function(e){0!==e.length&&t(e)},placeholder:"What needs to be done?"}))},{actionSelectors:["addTodo"]}),k=n(8),g={SET_VISIBILITY_FILTER:Symbol("SET_VISIBILITY_FILTER"),SWITCH_THEME:Symbol("SWITCH_THEME")},H={setVisibilityFilter:function(e){return function(t){e({type:g.SET_VISIBILITY_FILTER,payload:{visibilityFilter:t}})}},switchTheme:function(e){return function(){e({type:g.SWITCH_THEME})}}},N={SHOW_ALL:"show_all",SHOW_COMPLETED:"show_completed",SHOW_ACTIVE:"show_active"},F={LIGHT:"light",DARK:"dark"},P=F.DARK,W={visibilityFilter:N.SHOW_ALL,theme:P};document.body.classList.add(W.theme);var V,U=function(e,t){var n=t.type,o=t.payload,r=(void 0===o?{}:o).visibilityFilter;switch(n){case g.SET_VISIBILITY_FILTER:return Object(s.a)({},e,{visibilityFilter:r});case g.SWITCH_THEME:var a=e.theme===F.LIGHT?F.DARK:F.LIGHT;return document.body.classList.replace(e.theme,a),Object(s.a)({},e,{theme:a});default:return e}},B=Object(_.c)(U,W,H),M=Object(c.a)(B,2),R=M[0],G=M[1],K=Object(_.a)(G),Y=(Object(_.e)(G),R),J=K(function(e){var t=e.active,n=e.children,o=e.setVisibilityFilter;return r.a.createElement("a",{className:u()({selected:t}),style:{cursor:"pointer"},onClick:function(){return o()}},n)},{stateSelectors:{active:function(e,t){var n=e.visibilityFilter;return t.filter===n}},actionSelectors:{setVisibilityFilter:function(e,t){var n=e.setVisibilityFilter;return function(){return n(t.filter)}}}}),q=(V={},Object(k.a)(V,N.SHOW_ALL,"All"),Object(k.a)(V,N.SHOW_ACTIVE,"Active"),Object(k.a)(V,N.SHOW_COMPLETED,"Completed"),V),z=function(e){var t=e.activeCount,n=e.completedCount,o=e.onClearCompleted,a=1===t?"item":"items";return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"todo-count"},r.a.createElement("strong",null,t||"No")," ",a," left"),r.a.createElement("ul",{className:"filters"},Object.keys(q).map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(J,{filter:e},q[e]))})),!!n&&r.a.createElement("button",{className:"clear-completed",onClick:o},"Clear completed"))},Q=function(e){var t=e.todo,n=e.editTodo,o=e.deleteTodo,a=e.completeTodo,i=r.a.useState(!1),s=Object(c.a)(i,2),d=s[0],p=s[1];return r.a.createElement("li",{className:u()({completed:t.completed,editing:d})},d?r.a.createElement(l,{text:t.text,editing:d,onSave:function(e){return function(e){0===e.length?o(t):n(t,e),p(!1)}(e)}}):r.a.createElement("div",{className:"view"},r.a.createElement("input",{className:"toggle",type:"checkbox",checked:t.completed,onChange:function(){return a(t)}}),r.a.createElement("label",{onDoubleClick:function(){p(!0)}},t.text),r.a.createElement("button",{className:"destroy",onClick:function(){return o(t)}})))};var X=Object(_.d)([G,A])(function(e){var t=e.todos,n=e.editTodo,o=e.deleteTodo,a=e.completeTodo,c=e.hiddenItems;return r.a.createElement("ul",{className:"todo-list"},t.map(function(e){return r.a.createElement(Q,{key:e.id,todo:e,editTodo:n,deleteTodo:o,completeTodo:a})}),c>0?r.a.createElement("div",{className:"hidden-items"},c," hidden item/s by filters..."):"")},{stateSelectors:["todos","visibilityFilter"],actionSelectors:["editTodo","deleteTodo","completeTodo"],computedSelectors:{totalTodos:[function(e){return e.length},["todos"]],todos:[function(e,t){return console.log("filterVisibleTodos"),t===N.SHOW_ACTIVE?e.filter(function(e){return!e.completed}):t===N.SHOW_COMPLETED?e.filter(function(e){return e.completed}):e},["todos","visibilityFilter"]],hiddenItems:[function(e,t){return t-e.length},["todos","totalTodos"]]}}),Z=I(function(e){var t=e.todosCount,n=e.completedCount,o=e.completeAllTodos,a=e.clearCompleted;return r.a.createElement("section",{className:"main"},!!t&&r.a.createElement("span",null,r.a.createElement("input",{className:"toggle-all",type:"checkbox",checked:n===t,readOnly:!0}),r.a.createElement("label",{onClick:function(){o(n!==t)}})),r.a.createElement(X,null),!!t&&r.a.createElement(z,{completedCount:n,activeCount:t-n,onClearCompleted:a}))},{stateSelectors:{todosCount:function(e){return e.todos.length},completedCount:function(e){return e.todos.filter(function(e){return e.completed}).length}},actionSelectors:["completeAllTodos","clearCompleted"]}),$=(n(44),function(e){var t=e.checked,n=e.onChange;return r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",checked:t,onChange:n}),r.a.createElement("span",{className:"slider round"}))}),ee=K(function(e){var t=e.theme,n=e.switchTheme,o=t===F.LIGHT;return r.a.createElement("div",null,r.a.createElement("div",{className:"theme-switcher"},r.a.createElement($,{onChange:function(){n()},checked:o})),r.a.createElement("div",{className:"todoapp"},r.a.createElement(x,null),r.a.createElement(Z,null)))},{stateSelectors:["theme"],actionSelectors:["switchTheme"]}),te=Object(_.b)([Y,j]),ne=Object(c.a)(te,3),oe=ne[0],re=(ne[1],ne[2],oe);n(45),n(46);Object(a.render)(r.a.createElement(re,{onInit:[{actionSelectors:["fetchTodos"]},function(e){(0,e.fetchTodos)()}]},r.a.createElement(ee,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.fc088f9c.chunk.js.map