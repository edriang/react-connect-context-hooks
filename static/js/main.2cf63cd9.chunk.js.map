{"version":3,"sources":["todos/components/TodoTextInput.tsx","todos/provider/todosActions.ts","todos/provider/todosReducer.ts","todos/provider/TodosProvider.tsx","main/components/Header.tsx","main/provider/mainActions.ts","main/constants.ts","main/provider/mainReducer.ts","main/provider/MainProvider.tsx","main/components/FilterLink.tsx","main/components/Footer.tsx","todos/components/TodoItem.tsx","todos/components/TodoList.tsx","todos/utils/filterVisibleTodos.ts","main/components/MainSection.tsx","main/components/App.tsx","index.tsx"],"names":["TodoTextInput","_ref","onSave","text","placeholder","editing","newTodo","_React$useState","React","useState","_React$useState2","Object","slicedToArray","currentText","setCurrentText","react_default","a","createElement","className","classnames","edit","new-todo","type","autoFocus","value","onBlur","event","target","onChange","onKeyDown","which","trim","ACTIONS","ADD_TODO","EDIT_TODO","DELETE_TODO","COMPLETE_TODO","COMPLETE_ALL_TODOS","CLEAR_COMPLETED","TODO_MAX_ID","actions","addTodo","dispatch","todo","id","completed","payload","editTodo","deleteTodo","completeTodo","completeAllTodos","clearCompleted","reducer","state","_ref$payload","todos","concat","map","current","objectSpread","filter","allMarked","every","createContextProvider","todosReducer","todosActions","TodosProvider","TodosContext","withTodos","connectContextFactory","useConnectedContextFactory","components_TodoTextInput","length","actionSelectors","SET_VISIBILITY_FILTER","SWITCH_THEME","setVisibilityFilter","visibilityFilter","switchTheme","VISIBILITY_FILTERS","SHOW_ALL","SHOW_COMPLETED","SHOW_ACTIVE","THEME","LIGHT","DARK","initialState","theme","document","body","classList","add","newTheme","replace","mainReducer","mainActions","MainProvider","MainContext","withMain","active","children","selected","style","cursor","onClick","stateSelectors","_ref2","props","_ref3","FILTER_TITLES","_FILTER_TITLES","defineProperty","Footer","activeCount","completedCount","onClearCompleted","itemWord","keys","key","FilterLink","TodoItem","setEditing","handleSave","checked","onDoubleClick","withMainAndTodos","mergedConnectContextFactory","hiddenItems","components_TodoItem","computedSelectors","totalTodos","console","log","todosCount","readOnly","components_TodoList","components_Footer","setChecked","react_switch_default","onColor","components_Header","components_MainSection","render","provider_MainProvider","provider_TodosProvider","components_App","getElementById"],"mappings":"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","file":"static/js/main.2cf63cd9.chunk.js","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\n\ntype TodoTextInputProps = {\n  onSave: (text: string) => void;\n  text?: string;\n  placeholder?: string;\n  editing?: boolean;\n  newTodo?: boolean;\n}\n\nconst TodoTextInput: React.FC<TodoTextInputProps> = ({ onSave, text, placeholder, editing, newTodo }) => {\n  const [currentText, setCurrentText] = React.useState(text || '');\n\n  const handleSubmit = (event: any) => {\n    if (event.which !== 13) {\n      return;\n    }\n    const text = event.target.value.trim();\n\n    onSave(text);\n\n    if (newTodo) {\n      setCurrentText('');\n    }\n  }\n\n  const handleChange = (event: any) => {\n    setCurrentText(event.target.value);\n  }\n\n  const handleBlur = (event: any) => {\n    if (newTodo) {\n      return;\n    }\n    onSave(event.target.value);\n  }\n\n  return (\n    <input className={\n      classnames({\n        edit: editing,\n        'new-todo': newTodo,\n      })}\n      type=\"text\"\n      placeholder={placeholder}\n      autoFocus={true}\n      value={currentText}\n      onBlur={handleBlur}\n      onChange={handleChange}\n      onKeyDown={handleSubmit} />\n  )\n}\n\nexport default TodoTextInput;\nexport {\n  TodoTextInput,\n};\n","import { Todo } from '../../../typings';\n\nconst ACTIONS = {\n    ADD_TODO: 'ADD_TODO',\n    EDIT_TODO: 'EDIT_TODO',\n    DELETE_TODO: 'DELETE_TODO',\n    COMPLETE_TODO: 'COMPLETE_TODO',\n    COMPLETE_ALL_TODOS: 'COMPLETE_ALL_TODOS',\n    CLEAR_COMPLETED: 'CLEAR_COMPLETED',\n};\n\nlet TODO_MAX_ID = 0;\n\nconst addTodo = (dispatch: any) => (text: string) => {\n    ++TODO_MAX_ID;\n\n    const todo: Todo = {\n        text,\n        id: TODO_MAX_ID,\n        completed: false,\n    }\n    \n    dispatch({\n        type: ACTIONS.ADD_TODO,\n        payload: { todo },\n    });\n}\n\nconst editTodo = (dispatch: any) => (todo: Todo, text: string) => {\n    dispatch({\n        type: ACTIONS.EDIT_TODO,\n        payload: { todo, text },\n    })\n}\n\nconst deleteTodo = (dispatch: any) => (todo: Todo) => {\n    dispatch({\n        type: ACTIONS.DELETE_TODO,\n        payload: { todo },\n    })\n}\n\nconst completeTodo = (dispatch: any) => (todo: Todo) => {\n    dispatch({\n        type: ACTIONS.COMPLETE_TODO,\n        payload: { todo },\n    })\n}\n\nconst completeAllTodos = (dispatch: any) => () => {\n    dispatch({\n        type: ACTIONS.COMPLETE_ALL_TODOS,\n    })\n}\n\nconst clearCompleted = (dispatch: any) => () => {\n    dispatch({\n        type: ACTIONS.CLEAR_COMPLETED,\n    })\n}\n\nconst actions = {\n    addTodo,\n    editTodo,\n    deleteTodo,\n    completeTodo,\n    completeAllTodos,\n    clearCompleted,\n};\n\nexport default actions;\nexport {\n    ACTIONS,\n};\n","import { ACTIONS } from './todosActions';\n\nimport { Todo } from '../../../typings';\n\nexport type TodosState = {\n  todos: Todo[];\n}\n\nconst initialState: TodosState = {\n  todos: [],\n};\n\nfunction reducer(state: TodosState, { type, payload = {} }: any): TodosState {\n  const { todos } = state;\n  const { todo, text } = payload;\n\n  switch (type) {\n    case ACTIONS.ADD_TODO:\n      return { todos: todos.concat([todo]) };\n\n    case ACTIONS.EDIT_TODO:\n      return { todos: todos.map(current => current.id === todo.id ? { ...todo, text } : current ) };\n\n    case ACTIONS.DELETE_TODO:\n      return { todos: todos.filter(current => current.id !== todo.id) };\n    \n    case ACTIONS.COMPLETE_TODO:\n      return { todos: todos.map(current => current.id === todo.id ? { ...todo, completed: !todo.completed } : current ) };\n\n    case ACTIONS.COMPLETE_ALL_TODOS:\n      const allMarked = todos.every(todo => todo.completed);\n\n      return {\n          todos: todos.map(todo => ({\n              ...todo,\n              completed: !allMarked,\n          }))\n      };\n\n    case ACTIONS.CLEAR_COMPLETED:\n      return { todos: todos.filter(todo => !todo.completed) };\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\n\nexport {\n  initialState,\n};\n","import todosReducer, { initialState } from './todosReducer';\nimport todosActions from './todosActions';\n\nimport createContextProvider, { connectContextFactory, useConnectedContextFactory } from 'react-connect-context-hooks';\n\nconst [TodosProvider, TodosContext] = createContextProvider(todosReducer, initialState, todosActions);\n\nconst withTodos = connectContextFactory(TodosContext);\nconst useTodos = useConnectedContextFactory(TodosContext);\n\nexport default TodosProvider;\nexport {\n    withTodos,\n    useTodos,\n    TodosContext,\n};\n","import React from 'react';\n\nimport TodoTextInput from '../../todos/components/TodoTextInput';\nimport { withTodos } from '../../todos/provider';\n\nimport { addTodo } from '../../../typings';\n\ntype HeaderProps = {\n  addTodo: addTodo;\n}\n\nconst Header: React.FC<HeaderProps> = ({ addTodo }) => (\n  <header className=\"header\">\n    <h1>todos</h1>\n    <TodoTextInput\n      newTodo\n      onSave={(text: string) => {\n        if (text.length !== 0) {\n          addTodo(text)\n        }\n      }}\n      placeholder=\"What needs to be done?\"\n    />\n  </header>\n);\n\nexport default withTodos(Header, {\n  actionSelectors: ['addTodo'],\n});\n\nexport {\n  Header,\n};\n","const ACTIONS = {\n    SET_VISIBILITY_FILTER: 'SET_VISIBILITY_FILTER',\n    SWITCH_THEME: 'SWITCH_THEME',\n};\n\nconst setVisibilityFilter = (dispatch: any) => (visibilityFilter: string) => {\n    dispatch({\n        type: ACTIONS.SET_VISIBILITY_FILTER,\n        payload: { visibilityFilter },\n    })\n}\n\nconst switchTheme = (dispatch: any) => () => {\n    dispatch({\n        type: ACTIONS.SWITCH_THEME,\n    })\n}\n\nconst actions = {\n    setVisibilityFilter,\n    switchTheme,\n};\n\nexport default actions;\nexport {\n    ACTIONS,\n};\n","export const VISIBILITY_FILTERS = {\n    SHOW_ALL: 'show_all',\n    SHOW_COMPLETED: 'show_completed',\n    SHOW_ACTIVE: 'show_active',\n};\n\nexport const THEME = {\n    LIGHT: 'light',\n    DARK: 'dark',\n};\n","import { ACTIONS } from './mainActions';\nimport { VISIBILITY_FILTERS, THEME } from '../constants';\n\nexport type MainState = {\n  visibilityFilter: string;\n  theme: string;\n}\n\nconst initialState: MainState = {\n  visibilityFilter: VISIBILITY_FILTERS.SHOW_ALL,\n  theme: THEME.DARK,\n};\n\ndocument.body.classList.add(initialState.theme);\n\nfunction reducer(state: MainState, { type, payload = {} }: any): MainState {\n  const { visibilityFilter, theme } = payload;\n\n  switch (type) {\n    case ACTIONS.SET_VISIBILITY_FILTER:\n      return { ...state, visibilityFilter };\n\n    case ACTIONS.SWITCH_THEME:\n      const newTheme = state.theme === THEME.LIGHT ? THEME.DARK : THEME.LIGHT;\n      document.body.classList.replace(state.theme, newTheme);\n\n      return { ...state, theme: newTheme };\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\n\nexport {\n  initialState,\n};\n","import mainReducer, { initialState } from './mainReducer';\nimport mainActions from './mainActions';\n\nimport createContextProvider, { connectContextFactory, useConnectedContextFactory } from 'react-connect-context-hooks';\n\nconst [MainProvider, MainContext] = createContextProvider(mainReducer, initialState, mainActions);\n\nconst withMain = connectContextFactory(MainContext);\nconst useMain = useConnectedContextFactory(MainContext);\n\nexport default MainProvider;\nexport {\n    withMain,\n    useMain,\n    MainContext,\n};\n","import React from 'react';\nimport classnames from 'classnames';\n\nimport { withMain } from '../provider';\nimport { MainState } from '../provider/mainReducer';\n\ntype LinkProps = {\n  active: boolean;\n  children: React.ReactNode;\n  setVisibilityFilter: () => void;\n  filter: string;\n}\n\nconst Link: React.FC<LinkProps> = ({ active, children, setVisibilityFilter }) => (\n  <a\n    className={classnames({ selected: active })}\n    style={{ cursor: 'pointer' }}\n    onClick={() => setVisibilityFilter()}\n  >\n    {children}\n  </a>\n)\n\nexport default withMain(Link, {\n  stateSelectors: {\n    active: ({ visibilityFilter }: MainState, props: any) => props.filter === visibilityFilter,\n  },\n  actionSelectors: {\n    setVisibilityFilter: ({ setVisibilityFilter }: any, props: any) => () => setVisibilityFilter(props.filter),\n  },\n});\n\nexport {\n  Link,\n};\n","import React from 'react';\n\nimport FilterLink from './FilterLink';\nimport { VISIBILITY_FILTERS } from '../constants';\n\nconst FILTER_TITLES: {[key: string]: string} = {\n  [VISIBILITY_FILTERS.SHOW_ALL]: 'All',\n  [VISIBILITY_FILTERS.SHOW_ACTIVE]: 'Active',\n  [VISIBILITY_FILTERS.SHOW_COMPLETED]: 'Completed'\n}\n\ntype FooterProps = {\n  completedCount: number;\n  activeCount: number;\n  onClearCompleted: () => void;\n}\n\nconst Footer: React.FC<FooterProps> = ({ activeCount, completedCount, onClearCompleted }) => {\n  const itemWord = activeCount === 1 ? 'item' : 'items';\n  \n  return (\n    <footer className=\"footer\">\n      <span className=\"todo-count\">\n        <strong>{activeCount || 'No'}</strong> {itemWord} left\n      </span>\n      <ul className=\"filters\">\n        {Object.keys(FILTER_TITLES).map(filter =>\n          <li key={filter}>\n            <FilterLink filter={filter}>\n              {FILTER_TITLES[filter]}\n            </FilterLink>\n          </li>\n        )}\n      </ul>\n      {\n        !!completedCount &&\n        <button\n          className=\"clear-completed\"\n          onClick={onClearCompleted}\n        >Clear completed</button>\n        \n      }\n    </footer>\n  )\n}\n\nexport default Footer;\n\nexport {\n  Footer,\n};\n","import React from 'react';\nimport classnames from 'classnames';\nimport TodoTextInput from './TodoTextInput';\n\nimport { Todo } from '../../../typings';\n\ntype TodoItemProps = {\n  todo: Todo;\n  editTodo: (todo: Todo, text: string) => void;\n  deleteTodo: (todo: Todo) => void;\n  completeTodo: (todo: Todo) => void;\n}\n\nconst TodoItem: React.FC<TodoItemProps> = ({ todo, editTodo, deleteTodo, completeTodo }) => {\n  const [editing, setEditing] = React.useState(false);\n\n  const handleSave = (text: string) => {\n    if (text.length === 0) {\n      deleteTodo(todo);\n    } else {\n      editTodo(todo, text);\n    }\n    setEditing(false);\n  }\n\n  const handleDoubleClick = () => {\n    setEditing(true);\n  }\n\n  return (\n    <li className={classnames({\n      completed: todo.completed,\n      editing: editing\n    })}>\n      {editing ? (\n        <TodoTextInput\n          text={todo.text}\n          editing={editing}\n          onSave={(text: string) => handleSave(text)}\n        />\n      ) : (\n        <div className=\"view\">\n          <input\n            className=\"toggle\"\n            type=\"checkbox\"\n            checked={todo.completed}\n            onChange={() => completeTodo(todo)}\n          />\n          <label onDoubleClick={handleDoubleClick}>\n            {todo.text}\n          </label>\n          <button className=\"destroy\" onClick={() => deleteTodo(todo)} />\n        </div>\n      )}\n    </li>\n  )\n}\n\nexport default TodoItem;\nexport {\n  TodoItem,\n};\n","import React from 'react';\nimport { mergedConnectContextFactory } from 'react-connect-context-hooks';\n\nimport TodoItem from './TodoItem';\nimport { TodosContext } from '../provider';\nimport { MainContext } from '../../main/provider';\nimport filterVisibleTodos, { totalTodos, hiddenItemsCount } from '../utils/filterVisibleTodos';\n\nimport { Todo } from '../../../typings';\n\ntype TodoListProps = {\n  todos: Todo[];\n  editTodo: (todo: Todo) => void;\n  deleteTodo: (todo: Todo) => void;\n  completeTodo: (todo: Todo) => void;\n  hiddenItems: number;\n}\n\nconst TodoList: React.FC<TodoListProps> = ({ todos, editTodo, deleteTodo, completeTodo, hiddenItems }) => (\n  <ul className=\"todo-list\">\n    {todos.map(todo =>\n      <TodoItem\n        key={todo.id}\n        todo={todo}\n        editTodo={editTodo}\n        deleteTodo={deleteTodo}\n        completeTodo={completeTodo}\n      />\n    )}\n    {hiddenItems > 0 ? (\n      <div className=\"hidden-items\">{hiddenItems} hidden item/s by filters...</div>\n    ) : ''}\n  </ul>\n);\n\nconst withMainAndTodos = mergedConnectContextFactory([MainContext, TodosContext]);\n\nexport default withMainAndTodos(TodoList, {\n  stateSelectors: ['todos', 'visibilityFilter'],\n  actionSelectors: ['editTodo', 'deleteTodo', 'completeTodo'],\n  computedSelectors: {\n    // This example might not be practical, but done this way to illustrate that computed selectors can override\n    // previous selected props and also these functions can access values returned by previous ones\n    totalTodos: [totalTodos, ['todos']],\n    todos: [filterVisibleTodos, ['todos', 'visibilityFilter']],\n    hiddenItems: [hiddenItemsCount, ['todos', 'totalTodos']],\n  }\n});\n\nexport {\n  TodoList,\n}\n","import { VISIBILITY_FILTERS } from '../../main/constants';\n\nimport { Todo } from '../../../typings';\n\nfunction totalTodos(todos: any){\n    return todos.length;\n}\n\nfunction hiddenItemsCount(todos: any[], totalTodos: number) {\n    return totalTodos - todos.length;\n}\n\nexport default function filterVisibleTodos(todos: Todo[], visibilityFilter: string) {\n    console.log('filterVisibleTodos');\n    if (visibilityFilter === VISIBILITY_FILTERS.SHOW_ACTIVE) {\n        return todos.filter((todo: Todo) => !todo.completed);\n    }\n    if (visibilityFilter === VISIBILITY_FILTERS.SHOW_COMPLETED) {\n        return todos.filter((todo: Todo) => todo.completed);\n    }\n    return todos;\n}\n\nexport {\n    totalTodos,\n    hiddenItemsCount,\n}\n","import React from 'react';\n\nimport Footer from './Footer';\n\nimport { withTodos } from '../../todos/provider';\nimport { TodosState } from '../../todos/provider/todosReducer';\nimport TodoList from '../../todos/components/TodoList';\n\ntype MainSectionProps = {\n  todosCount: number;\n  completedCount: number;\n  completeAllTodos: () => void;\n  clearCompleted: () => void;\n}\n\nconst MainSection: React.FC<MainSectionProps> = ({ todosCount, completedCount, completeAllTodos, clearCompleted }) => (\n  <section className=\"main\">\n    {\n      !!todosCount && \n      <span>\n        <input\n          className=\"toggle-all\"\n          type=\"checkbox\"\n          checked={completedCount === todosCount}\n          readOnly\n        />\n        <label onClick={completeAllTodos}/>\n      </span>\n    }\n    <TodoList />\n    {\n      !!todosCount &&\n      <Footer\n        completedCount={completedCount}\n        activeCount={todosCount - completedCount}\n        onClearCompleted={clearCompleted}\n      />\n    }\n  </section>\n)\n\nexport default withTodos(MainSection, {\n  stateSelectors: {\n    todosCount: ({ todos }: TodosState) => todos.length,\n    completedCount: ({ todos }: TodosState) => todos.filter(todo => todo.completed).length,\n  },\n  actionSelectors: ['completeAllTodos', 'clearCompleted'],\n});\n\nexport {\n  MainSection,\n};\n","import React from 'react';\nimport Switch from \"react-switch\";\n\nimport Header from './Header';\nimport MainSection from './MainSection';\n\nimport { withMain } from '../provider';\n\ntype AppProps = {\n  switchTheme: Function;\n}\n\nconst App: React.FC<AppProps> = ({ switchTheme }) => {\n  const [checked, setChecked] = React.useState(false);\n\n  const handleChange = () => {\n    setChecked(!checked);\n    switchTheme();\n  }\n\n  return (\n    <div>\n      <div className=\"theme-switcher\">\n        <Switch onChange={handleChange} checked={checked} onColor=\"#333\" />\n      </div>\n      <div className=\"todoapp\" >\n        <Header />\n        <MainSection />\n      </div>\n    </div>\n  )\n}\n\nexport default withMain(App, {\n  actionSelectors: ['switchTheme'],\n});\n\nexport {\n  App,\n};\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport App from './main/components/App';\n\nimport MainProvider from './main/provider';\nimport TodosProvider from './todos/provider';\n\nimport 'todomvc-app-css/index.css';\nimport './todoapp.scss';\n\nrender(\n  <MainProvider>\n    <TodosProvider>\n      <App />\n    </TodosProvider>\n  </MainProvider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}